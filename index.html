<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aplicaci贸n de Base de Datos1</title>
    <link rel="stylesheet" href="estilos.css"> <!-- Enlace al archivo CSS -->
</head>
<body>

    <h1>Mi Aplicaci贸n de Base de Datos</h1>

    <form id="formulario">
        <label for="nombre">Nombre:</label>
        <input type="text" id="nombre" name="nombre" required>
        
        <label for="edad">Edad:</label>
        <input type="number" id="edad" name="edad" required>
        
        <button type="button" onclick="agregarRegistro()">Agregar Registro</button>
    </form>

    <h2>Registros</h2>
    <ul id="listaRegistros"></ul>

    <script src="app.js"></script> <!-- Enlace al archivo JavaScript -->
    <script src="https://www.gstatic.com/firebasejs/9.0.2/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.2/firebase-firestore.js"></script>
    <script>
        // Configuraci贸n de Firebase, reemplaza con tus propias credenciales
        var firebaseConfig = {
            apiKey: "TU_API_KEY",
            authDomain: "TU_AUTH_DOMAIN",
            projectId: "TU_PROJECT_ID",
            storageBucket: "TU_STORAGE_BUCKET",
            messagingSenderId: "TU_MESSAGING_SENDER_ID",
            appId: "TU_APP_ID"
        };

        // Inicializa Firebase
        firebase.initializeApp(firebaseConfig);
        
        // Referencia a la colecci贸n 'registros'
        var db = firebase.firestore().collection('registros');

        function agregarRegistro() {
            var nombre = document.getElementById('nombre').value;
            var edad = document.getElementById('edad').value;

            // Agrega el registro a la base de datos en tiempo real
            db.add({
                nombre: nombre,
                edad: edad
            });

            // Limpia el formulario
            document.getElementById('nombre').value = '';
            document.getElementById('edad').value = '';
        }

        // Escucha los cambios en la base de datos y actualiza la lista
        db.onSnapshot(snapshot => {
            document.getElementById('listaRegistros').innerHTML = '';
            snapshot.forEach(doc => {
                var nuevoElemento = document.createElement('li');
                nuevoElemento.textContent = `Nombre: ${doc.data().nombre}, Edad: ${doc.data().edad}`;
                document.getElementById('listaRegistros').appendChild(nuevoElemento);
            });
        });
    </script>

</body>
</html>
